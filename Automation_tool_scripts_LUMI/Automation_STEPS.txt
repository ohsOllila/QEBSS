Semi-automatic MD production and comparison to NMR relaxation times
(Download and extract Automation_tool_scripts_* recipitory for either LUMI or MAHTI) 


The first step is to generate the initial replicas. Go to https://idpconformergenerator.readthedocs.io/en/latest/installation.html or follow the installation steps below: 
 
cd Automation_tool_scripts_*/Idpconfgenerator_automation
git clone https://github.com/julie-forman-kay-lab/IDPConformerGenerator 
cd IDPConformerGenerator 
conda env create -f requirements.yml 
cd ..


Copy your fasta file to Automation_tool_scripts_* directory and generate replicas by running: 

conda activate idpconfgen 
./create_replicas.sh (Choose the number of your fasta file) 


Copy Unst_prot, MD_parameter_files, simulation_scripts and env.yml to your project scratch in Mahti or LUMI. Using my  Mahti paths as example:

scp -r Unst_prot MD_parameter_files simulation_scripts env.yml malmcajs@mahti.csc.fi:/scratch/project_***/cmcajsa/MD-stabilization/structures/forcefield_compare 


Log into Mahti: 
ssh malmcajs@mahti.csc.fi 


Go to folder: 
cd /scratch/project_***/cmcajsa/MD-stabilization/structures/forcefield_compare/


Set up the environment in Mahti:
 
module purge
module load tykky
conda-containerize new --prefix . env.yml


Go to simulation_scripts/run_dir and run scripts in order:

sh run_prep.sh 
sh run_batch_md.sh 
sh run_analysis.sh 


Before you run the next script, you must ensure the previous step was finished. E.g., you can check if the system preparation run was successful by going to /scratch/project_2003809/cmcajsa/MD-stabilization/structures/forcefield_compare/Unst_prot and running ls -lh */*/md*tpr. Run ls -lh */*/md*tpr | wc â€“l to count the files. The last script collects the results, which can be found in /scratch/project_***/cmcajsa/MD-stabilization/structures/forcefield_compare/results
